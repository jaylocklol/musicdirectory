<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Directory</title>
    <style>
        /* CSS styling */
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            text-align: center;
        }

        h1 {
            margin: 20px 0;
        }

        #music-list {
            margin-top: 20px;
        }

        .audio-container {
            margin: 10px 0;
            padding: 10px;
            border: 1px solid #ddd;
            background: #fff;
        }

        audio {
            width: 100%;
            max-width: 300px;
        }
    </style>
</head>
<body>

<h1>Music Directory</h1>

<div id="music-list">
    <!-- Each audio file will be listed here by JavaScript -->
</div>

<!-- Include the music-metadata-browser library -->
<script src="https://cdn.jsdelivr.net/npm/music-metadata-browser/dist/music-metadata-browser.min.js"></script>

<script>
    // List of audio files (adjust file paths as needed)
    const musicFiles = [
        "music/song1.mp3",
        "music/song2.mp3",
        "music/song3.mp3"
    ];

    const musicList = document.getElementById('music-list');

    // Function to fetch and display metadata for each audio file
    async function loadMetadata(fileUrl) {
        const container = document.createElement('div');
        container.className = 'audio-container';

        // Fetch metadata
        try {
            const response = await fetch(fileUrl);
            const arrayBuffer = await response.arrayBuffer();
            const metadata = await musicMetadata.parseBuffer(new Uint8Array(arrayBuffer), fileUrl);

            // Extract metadata
            const title = metadata.common.title || 'Unknown Title';
            const artist = metadata.common.artist || 'Unknown Artist';

            // Display title and artist
            const titleElement = document.createElement('p');
            titleElement.textContent = `${title} - ${artist}`;

            // Audio player
            const player = document.createElement('audio');
            player.controls = true;
            player.src = fileUrl;

            // Append to container and then to music list
            container.appendChild(titleElement);
            container.appendChild(player);
            musicList.appendChild(container);
        } catch (error) {
            console.error('Error fetching metadata:', error);
        }
    }

    // Load metadata for each file in the list
    musicFiles.forEach(fileUrl => loadMetadata(fileUrl));
</script>

</body>
</html>
